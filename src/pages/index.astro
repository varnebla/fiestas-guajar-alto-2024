---
import BaseLayout from '../layouts/BaseLayout.astro';
import EventCard from '../components/EventCard.astro';
import BaseLink from '../components/BaseLink.astro';
import HeroSection from '../components/HeroSection.astro';
import SectionTitle from '../components/SectionTitle.astro';
import PuebloSection from '../components/PuebloSection.astro';
// import HighlightedEventSection from '../components/HighlightedEventSection.astro';

import { getNextEvents, getHighlightedEvent } from '../services/eventos';

import { Image } from 'astro:assets';
import aboutFiestasSrc from '../assets/cohetes.jpeg';

const eventsList = getNextEvents({ limit: 3 });
// const highlightedEvent = getHighlightedEvent();
const pageDescription =
  'Fiestas Patronales de Guájar Alto 2024: Tradición, devoción y diversión. ¡Descubre la magia de este evento único!';
---

<BaseLayout title="Inicio" description={pageDescription}>
  <HeroSection />
  <!-- <section class="w-full">
    <article class="max-w-2xl lg:max-w-5xl mx-auto">
      <HighlightedEventSection event={highlightedEvent} />
    </article>
  </section> -->
  <section class="w-full bg-gray-10 py-12">
    <div
      class="flex flex-col items-center gap-y-8 lg:gap-y-12 max-w-2xl lg:max-w-5xl mx-auto"
    >
      <SectionTitle title="¡Vive las fiestas!" />
      <article class="flex flex-col-reverse lg:flex-row gap-x-12 gap-y-8">
        <div
          class="flex flex-1 flex-col justify-start lg:justify-center gap-y-4 text-lg"
        >
          <p>
            ¡Bienvenidos a las fiestas patronales de Guájar Alto, en Los
            Guájares, en la Costa Tropical de Granada! Estas celebraciones, que
            tienen lugar del <strong>14 al 16 de agosto</strong>, son un
            vibrante homenaje a la Virgen de la Aurora, patrona de nuestro
            pueblo. Durante tres días repletos de alegría y devoción, Guájar
            Alto se llena de vida y color.
          </p>
          <p>
            Únete a nosotros para celebrar con pasión las fiestas patronales de
            Guájar Alto. ¡Te esperamos con los brazos abiertos!
          </p>
        </div>
        <div
          class="flex-1 w-full overflow-hidden aspect-video lg:aspect-square shadow-md rounded-2xl"
        >
          <Image
            src={aboutFiestasSrc}
            alt="Fiestas"
            width={620}
            height={300}
            fetchpriority="high"
            class="object-cover w-full"
          />
        </div>
      </article>
      <BaseLink
        link="/fiestas"
        extraClasses="bg-yellow-200"
        text="Ver el programa de fiestas"
      />
    </div>
    <!-- <a
        href="/fiestas"
        class="py-3 px-4 text-lg bg-green-300 text-black border-2 border-black text-center self-center font-semibold font-space transition-transform hover:-translate-y-0.5 hover:shadow duration-100 ease-in rounded"
        >Ver el programa de fiestas</a
      > -->
  </section>
  <section class="w-full bg-brown-90 py-12 text-white">
    <PuebloSection />
  </section>
  <section class="w-full bg-gray-20 py-12">
    <article
      class="flex flex-col items-center gap-y-8 lg:gap-y-12 max-w-2xl lg:max-w-5xl mx-auto"
    >
      <SectionTitle title="Próximos eventos" />
      <article class="grid grid-cols-1 md:grid-cols-3 gap-x-8 gap-y-8 w-full">
        {
          eventsList.map((event) => {
            return <EventCard event={event} />;
          })
        }
      </article>
      <BaseLink
        link="/eventos"
        extraClasses="bg-yellow-200"
        text="Ver todos los eventos"
      />
      <!-- <a
          href="/eventos"
          class="py-3 px-4 text-lg bg-blue-300 text-black border-2 border-black text-center self-center font-semibold font-space transition-transform hover:-translate-y-0.5 hover:shadow duration-100 ease-in rounded"
          >Ver todos los eventos</a
        > -->
    </article>
  </section>
</BaseLayout>
